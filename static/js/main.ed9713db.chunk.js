(this["webpackJsonpweb-pokemon"]=this["webpackJsonpweb-pokemon"]||[]).push([[0],{174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var c=n(8),a=n(0),r=n.n(a),i=n(26),s=n.n(i),o=(n(174),n(175),n(176),n(177),n(178),n(67)),l=n(148),j=n(120),d=n(33),b=n(159),u=n(72),O=n(47),h=n(161),m=n(149),p=n.n(m),x=n(102),f="GET_DETAIL_POKEMON",v="GET_DETAIL_POKEMON_SUCCESS",k="HANDLE_STATE_DETAIL",g={loader:!1,catchField:null,detail:null,myPokemon:[]},y={DetailReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(u.a)(Object(u.a)({},e),{},Object(x.a)({},t.field,t.value));case v:return Object(u.a)(Object(u.a)({},e),{},{detail:t.value});default:return e}}},w=n(68),_=n.n(w),P=n(75),E=n(150),C=n.n(E),T={"Content-Type":"application/json"},D="/api/v2/pokemon";function N(e){return C.a.get("https://pokeapi.co"+e,T).then((function(e){return e})).catch((function(e){return e}))}var S=_.a.mark(L),I=_.a.mark(M);function L(e){var t;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(P.b)(N,D+"/"+e.id);case 3:return t=n.sent,n.next=6,Object(P.c)({type:v,value:t.data});case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("error : ",n.t0);case 11:case"end":return n.stop()}}),S,null,[[0,8]])}function M(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([Object(P.d)(f,L)]);case 2:case"end":return e.stop()}}),I)}var A=_.a.mark(F);function F(e){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)([M()]);case 2:case"end":return e.stop()}}),A)}var G=Object(h.a)(),R=[G],q={key:"root",storage:p.a,whitelist:["DetailReducer"]},$="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):O.d,B=Object(O.c)(Object(u.a)({},y)),z=Object(j.a)(q,B),X=Object(O.e)(z,$(O.a.apply(void 0,R)));G.run(F);var H=X,U=n(63),J=n(32),K=n.p+"static/media/logo_pokemon.e80c762b.png",V=n(214),Y=n(211),Q=n(217),W=function(){return Object(c.jsxs)("header",{children:[Object(c.jsx)(U.b,{to:"/",children:Object(c.jsx)("img",{src:K,className:"logo-style"})}),Object(c.jsxs)("div",{className:"menu-nonresponsive",children:[Object(c.jsx)(U.b,{className:"nav-links",to:"/",children:"Home"}),Object(c.jsx)(U.b,{className:"nav-links",to:"/listPokemon",children:"My Pokemon List"})]}),Object(c.jsx)("div",{className:"menu-responsive",children:Object(c.jsx)(V.a,{overlay:Object(c.jsxs)(Y.a,{children:[Object(c.jsx)(Y.a.Item,{children:Object(c.jsx)("a",{rel:"noopener noreferrer",href:"/",children:"Home"})}),Object(c.jsx)(Y.a.Item,{children:Object(c.jsx)("a",{rel:"noopener noreferrer",href:"/listPokemon",children:"My Pokemon List"})})]}),children:Object(c.jsx)("a",{className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},children:Object(c.jsx)(Q.a,{})})})})]})},Z=n(112),ee=n(76),te=n.n(ee),ne=n(215),ce=n(113),ae=n(208),re=n(216),ie=n(87),se=n(53),oe=n(218);function le(){var e=Object(Z.a)(["\n    query pokemons($limit: Int, $offset: Int) {\n        pokemons(limit: $limit, offset: $offset) {\n          count\n          next\n          previous\n          status\n          message\n          results {\n            url\n            id\n            name\n            image\n          }\n        }\n      }\n    "]);return le=function(){return e},e}var je=ae.a.Meta,de=function(){var e=Object(J.f)(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.DetailReducer})),i=window.location.pathname.includes("listPokemon"),s=te()(le()),l=Object(a.useCallback)((function(t,n){var c="";i&&(c="&idx=".concat(n)),e.push("/detailPokemon/".concat(t.id,"?name=").concat(t.name,"&catch=").concat(!i).concat(c))}),[e]),j=Object(a.useCallback)((function(e){var c=n.myPokemon.filter((function(t,n){return n!==e}));t({type:k,field:"myPokemon",value:c})}),[n,t]);return Object(c.jsx)(r.a.Fragment,{children:Object(c.jsx)("div",{children:Object(c.jsx)(ne.a,{query:s,variables:{limit:150},children:function(e){var t,a=e.loading,r=e.error,s=e.data;return r||void 0===s?Object(c.jsx)("div",{}):(t=i?n.myPokemon:s.pokemons.results,Object(c.jsx)("div",{children:Object(c.jsxs)(ce.a,{tag:"div",blocking:a,children:[0!==n.myPokemon.length?Object(c.jsxs)("h3",{style:{textAlign:"center"},children:[" ",Object(c.jsxs)(re.a,{color:"#87d068",style:{fontSize:"15px"},children:["I have ",n.myPokemon.length," pokemon(s)"]})]}):"",Object(c.jsx)("main",{children:Object(c.jsx)("div",{"data-test-id":"content-test-id",className:"content",children:t.map((function(e,t){return Object(c.jsxs)("div",{children:[Object(c.jsx)(ae.a,{onClick:function(){return l(i?e.pokemonDetail:e,t)},hoverable:!0,style:{width:150,margin:"10px",height:"230px"},cover:Object(c.jsx)("img",{alt:"pokemon-image",src:i?e.pokemonDetail.sprites.front_default:e.image}),children:Object(c.jsx)(je,{title:e.name})}),i?Object(c.jsx)(ie.a,{placement:"topLeft",title:"Remove Pokemon",children:Object(c.jsx)(se.a,{type:"primary",shape:"round",danger:!0,size:"small",icon:Object(c.jsx)(oe.a,{}),onClick:function(){return j(t)}})}):""]},t)}))})})]})}))}})})})},be=n(135),ue=n(209),Oe=n(164),he=n(212),me=n(213),pe=n(88),xe=n(55),fe=n(210);function ve(){var e=Object(Z.a)(["\n    query pokemon($name: String!) {\n        pokemon(name: $name) {\n          id\n          name\n          sprites {\n            front_default\n          }\n          moves {\n            move {\n              name\n            }\n          }\n          types {\n            type {\n              name\n            }\n          }\n        }\n      }\n    "]);return ve=function(){return e},e}var ke=ue.a.Title,ge=ue.a.Text,ye=function(){var e=Object(J.f)(),t=Object(o.c)((function(e){return e.DetailReducer})),n=Object(J.g)().idPokemon,i=Object(o.b)(),s=Object(a.useState)(void 0),l=Object(be.a)(s,2),j=l[0],d=l[1],b=Object(a.useState)(),u=Object(be.a)(b,2),O=u[0],h=u[1],m=window.location.search.replace("?","").split("&"),p=m[0].replace("name=",""),x=m[1].replace("catch=",""),v=m.length>2?m[2].replace("idx=",""):null,k=te()(ve());Object(a.useEffect)((function(){i({type:f,id:n})}),[i,n]);var g=Object(a.useCallback)((function(){e.goBack()}),[e]),y=Object(a.useCallback)((function(){var e=Math.random();d(!(e<.5))})),w=Object(a.useCallback)((function(){t.myPokemon.push({name:O,pokemonDetail:t.detail}),Oe.a.success({message:"Yeay, success catch a pokemon "+t.detail.name+" with name "+O+" !"}),d(void 0),h(void 0)}),[t,O,h,d]);return Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)(he.a,{title:"Give me a name!",visible:j,onOk:w,onCancel:function(){d(void 0),h(void 0)},children:Object(c.jsx)(me.a,{value:O,onChange:function(e){return h(e.target.value)}})}),Object(c.jsx)(ne.a,{query:k,variables:{name:p},children:function(e){var n=e.loading,a=e.error,r=e.data;return!a&&void 0!==r&&t.detail?Object(c.jsx)("div",{children:Object(c.jsxs)(ce.a,{tag:"div",blocking:n,children:[Object(c.jsx)(pe.a,{children:Object(c.jsx)("div",{style:{padding:"5%",width:"100%"},children:Object(c.jsxs)(ue.a,{children:[Object(c.jsx)(se.a,{type:"default",size:"large",onClick:g,children:"Back"}),Object(c.jsx)(ke,{style:{textAlign:"center"},children:t.detail.name}),Object(c.jsx)("br",{}),"false"===x&&t.myPokemon[v]?Object(c.jsxs)("h5",{style:{textAlign:"center"},children:["The Name is '",null!==v?t.myPokemon[v].name:"","'"]}):"",Object(c.jsxs)(ae.a,{hoverable:!0,style:{width:"100%"},cover:Object(c.jsx)("img",{alt:"pokemon-image",src:t.detail.sprites.other.dream_world.front_default}),children:[(void 0===j||!1===j)&&"true"===x?Object(c.jsx)(se.a,{type:"default",shape:"round",size:"large",onClick:y,children:"Catch Me!"}):null,!1===j?Object(c.jsx)("h4",{style:{color:"red"},children:"Oops, you can't catch me :p"}):null]})]})})}),Object(c.jsx)(pe.a,{children:Object(c.jsxs)("div",{className:"content-detail",children:[Object(c.jsx)(xe.a,{span:6,children:Object(c.jsx)(fe.a.PreviewGroup,{children:t.detail.sprites.front_default?Object(c.jsx)(fe.a,{width:100,src:t.detail.sprites.front_default}):""})}),Object(c.jsx)(xe.a,{span:6,children:Object(c.jsx)(fe.a.PreviewGroup,{children:t.detail.sprites.front_shiny?Object(c.jsx)(fe.a,{width:100,src:t.detail.sprites.front_shiny}):""})}),Object(c.jsx)(xe.a,{span:6,children:Object(c.jsx)(fe.a.PreviewGroup,{children:t.detail.sprites.back_default?Object(c.jsx)(fe.a,{width:100,src:t.detail.sprites.back_default}):""})}),Object(c.jsx)(xe.a,{span:6,children:Object(c.jsx)(fe.a.PreviewGroup,{children:t.detail.sprites.back_shiny?Object(c.jsx)(fe.a,{width:100,src:t.detail.sprites.back_shiny}):""})})]})}),Object(c.jsx)(ke,{style:{textAlign:"center"},children:"Types"}),Object(c.jsx)(pe.a,{style:{paddingBottom:"10%"},children:Object(c.jsx)("div",{className:"content-detail",children:Object(c.jsx)(xe.a,{span:24,children:t.detail.types.map((function(e,t){return Object(c.jsx)(ge,{keyboard:!0,children:e.type.name},t)}))})})})]})}):Object(c.jsx)("div",{})}})]})},we=function(){return Object(c.jsxs)(U.a,{children:[Object(c.jsx)(W,{}),Object(c.jsxs)(J.c,{children:[Object(c.jsx)(J.a,{path:"/",exact:!0,children:Object(c.jsx)(de,{})}),Object(c.jsx)(J.a,{path:"/detailPokemon/:idPokemon",children:Object(c.jsx)(ye,{})}),Object(c.jsx)(J.a,{path:"/listPokemon",exact:!0,children:Object(c.jsx)(de,{})})]})]})},_e=new b.a({uri:"https://graphql-pokeapi.vercel.app/api/graphql"}),Pe=Object(j.b)(H);var Ee=function(){return Object(c.jsx)(d.a,{client:_e,children:Object(c.jsx)(o.a,{store:H,children:Object(c.jsx)(l.a,{loading:null,persistor:Pe,children:Object(c.jsx)(we,{})})})})},Ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,219)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(Ee,{})}),document.getElementById("root")),Ce()}},[[205,1,2]]]);
//# sourceMappingURL=main.ed9713db.chunk.js.map